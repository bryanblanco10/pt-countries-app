import{d as _,r as f,u as g,o as n,c,w as j,v as z,a as e,b as A,e as S,f as y,g as v,n as D,h as B,i as V,t as h,j as M,F as L,k as N,l as m,T as R,m as T,p as F}from"./index-c29ac825.js";import{L as E}from"./Loading-9bc4cab9.js";const U={class:"group-search mb-12 lg:mb-0 md:mb-0"},H=e("svg",{class:"icon-search dark:fill-white","aria-hidden":"true",viewBox:"0 0 24 24"},[e("g",null,[e("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"})])],-1),K=_({__name:"Search",setup(i){const s=f(""),t=g(),o=()=>{t.dispatch("updateSearch",s.value),t.dispatch("filterCountries")};return(a,r)=>(n(),c("div",U,[H,j(e("input",{type:"search",class:"w-full lg:w-[500px] md:w-[350px] input-search dark:bg-[#273b47] dark:text-white shadow-md dark:placeholder:text-white",placeholder:"Search for a country...","onUpdate:modelValue":r[0]||(r[0]=d=>s.value=d),onKeyup:o,onSearch:o},null,544),[[z,s.value]])]))}});const O=_({__name:"Select",setup(i){const s=["Africa","America","Asia","Europe","Oceania"],t=f(""),o=g(),a=A(),r=()=>{o.dispatch("updateRegion",t.value),o.dispatch("filterCountries")};return(d,l)=>{const p=S("v-select");return n(),y(p,{options:s,modelValue:t.value,"onUpdate:modelValue":[l[0]||(l[0]=u=>t.value=u),l[1]||(l[1]=u=>r())],class:D(["style-chooser w-1/2 lg:w-[200px] md:w-[200px] dark:bg-[#273b47] dark:text-white shadow-md dark:placeholder:text-white",{"style-chooser-dark":B(a)}]),label:"name",placeholder:"Filter by Region"},{"no-options":v(()=>[V("Sin opciones")]),_:1},8,["modelValue","class"])}}});const P={class:"h-56 sm:h-36"},q=["src","alt"],G={class:"px-6 py-6"},I={class:"text-xl font-bold mb-3"},J={class:"text-sm mb-2"},Q=e("strong",null,"Population: ",-1),W={class:"text-sm mb-2"},X=e("strong",null,"Region: ",-1),Y={class:"text-sm mb-2"},Z=e("strong",null,"Capital: ",-1),ee=_({__name:"CardCountry",props:{country:{}},setup(i){return(s,t)=>{var a;const o=S("router-link");return n(),y(o,{to:{name:"detail",params:{slug:(a=s.country)==null?void 0:a.cca2}}},{default:v(()=>{var r,d,l,p,u,x,w,b,k,C,$;return[e("div",P,[e("img",{class:"h-56 sm:h-36 w-full",src:(d=(r=s.country)==null?void 0:r.flags)==null?void 0:d.png,alt:(p=(l=s.country)==null?void 0:l.flags)==null?void 0:p.alt,loading:"lazy"},null,8,q)]),e("div",G,[e("h4",I,h((x=(u=s.country)==null?void 0:u.name)==null?void 0:x.common),1),e("p",J,[Q,e("span",null,h((b=(w=s.country)==null?void 0:w.population)==null?void 0:b.toLocaleString()),1)]),e("p",W,[X,V(),e("span",null,h((k=s.country)==null?void 0:k.region),1)]),e("p",Y,[Z,e("span",null,h(($=(C=s.country)==null?void 0:C.capital)==null?void 0:$.join(", ")),1)])])]}),_:1},8,["to"])}}}),se={key:0,class:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 grid-cols-1 gap-14 px-8 md:px-0 lg:px-0"},te={class:"border border-none shadow-md dark:shadow-lg rounded dark:bg-[#273b47]"},oe={key:1,class:"text-center"},ne=e("p",{class:"text-xl font-semibold"},"No se encontraron resultados",-1),ae=[ne],re=_({__name:"ListCountries",setup(i){const s=g(),t=M(()=>s.state.country.filteredCountries);return(o,a)=>(n(),y(R,{name:"fade"},{default:v(()=>[t.value.length>0?(n(),c("div",se,[(n(!0),c(L,null,N(t.value,r=>(n(),c("div",te,[m(ee,{country:r},null,8,["country"])]))),256))])):(n(),c("div",oe,ae))]),_:1}))}}),le=()=>{const{countryRepository:i}=T("provider"),s=g(),t=f(!0),o=async()=>{try{t.value=!0;const{data:a}=await i.getAll();s.dispatch("addCountries",a)}catch(a){console.log(a)}finally{t.value=!1}};return F(()=>{o()}),{isBusy:t}},ce={class:"flex flex-col lg:flex-row md:flex-row justify-between mb-14"},ie={key:0},_e=_({__name:"Home",setup(i){const{isBusy:s}=le();return(t,o)=>(n(),c(L,null,[e("section",ce,[m(K),m(O)]),e("section",null,[B(s)?(n(),c("div",ie,[m(E)])):(n(),y(re,{key:1}))])],64))}});export{_e as default};
